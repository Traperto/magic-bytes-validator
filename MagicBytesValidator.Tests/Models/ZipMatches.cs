namespace MagicBytesValidator.Tests.Models;

public class ZipMatches
{
    private static readonly byte[] EmptyZipFileContent =
    {
        0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x92, 0x84, 0x55, 0x57, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x20, 0x00, 0x54, 0x65, 0x73, 0x74, 0x2f, 0x55,
        0x54, 0x0d, 0x00, 0x07, 0xf4, 0xe1, 0x33, 0x65, 0xf4, 0xe1, 0x33, 0x65, 0xf7, 0xe1, 0x33, 0x65, 0x75, 0x78,
        0x0b, 0x00, 0x01, 0x04, 0xf5, 0x01, 0x00, 0x00, 0x04, 0x14, 0x00, 0x00, 0x00, 0x50, 0x4b, 0x01, 0x02, 0x14,
        0x03, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x92, 0x84, 0x55, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xed,
        0x41, 0x00, 0x00, 0x00, 0x00, 0x54, 0x65, 0x73, 0x74, 0x2f, 0x55, 0x54, 0x0d, 0x00, 0x07, 0xf4, 0xe1, 0x33,
        0x65, 0xf4, 0xe1, 0x33, 0x65, 0xf7, 0xe1, 0x33, 0x65, 0x75, 0x78, 0x0b, 0x00, 0x01, 0x04, 0xf5, 0x01, 0x00,
        0x00, 0x04, 0x14, 0x00, 0x00, 0x00, 0x50, 0x4b, 0x05, 0x06, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x01, 0x00,
        0x53, 0x00, 0x00, 0x00, 0x43, 0x00, 0x00, 0x00, 0x00, 0x00
    };

    [Fact]
    public void Should_match_valid_zip()
    {
        var sut = new Zip();

        Assert.True(sut.Matches(EmptyZipFileContent));
    }
}